
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>3D Fermi surface &#8212; PyProcar 5.5.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'fermi3D';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">PyProcar 5.5.0 documentation</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting-started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="user-guide/index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="dftprep/index.html">
                        DFT Prep
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        API Reference
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar/CONTRIBUTING.rst" title="Contributing" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa fa-gavel fa-fw"></i></span>
            <label class="sr-only">Contributing</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://doi.org/10.1016/j.cpc.2019.107080" title="The Paper" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa fa-file-text fa-fw"></i></span>
            <label class="sr-only">The Paper</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting-started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="user-guide/index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="dftprep/index.html">
                        DFT Prep
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        API Reference
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/romerogroup/pyprocar/CONTRIBUTING.rst" title="Contributing" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa fa-gavel fa-fw"></i></span>
            <label class="sr-only">Contributing</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://doi.org/10.1016/j.cpc.2019.107080" title="The Paper" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa fa-file-text fa-fw"></i></span>
            <label class="sr-only">The Paper</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="d-fermi-surface">
<h1>3D Fermi surface<a class="headerlink" href="#d-fermi-surface" title="Permalink to this heading">#</a></h1>
<p>PyProcar’s 3D Fermi surface utility is able to generate Fermi surface
plots projected over spin, atoms and orbitals or a combination of one
or many of each. This utility is also capable of projecting external
properties that are provided on a mesh grid in momentum space. This
feature is useful when one wants to project properties that are not
provided in PROCAR file such as Fermi velocity, electron-phonon
coupling and electron effective mass. We divide this section into
three sub sections, plain Fermi surface, projection of properties from
PROCAR and projection of properties from external file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When plotting 3D Fermi surfaces, it is important to use a
Monkhorst-Pack k-grid while setting <code class="docutils literal notranslate"><span class="pre">ISYM=-1</span></code> in the INCAR file
(turn off symmetry).</p>
</div>
<section id="d-surfaces">
<h2>3D surfaces<a class="headerlink" href="#d-surfaces" title="Permalink to this heading">#</a></h2>
<p>This section focuses on how the 3d image is created, if you are only
interested in using this functionality, you can skip this part and
move to the <a class="reference external" href="fermi3D.html#id1">examples</a> section. A surface is
created by adding a collection of small polygons. By increasing the
number of polygons, one can increase the smoothness of the surface.
These polygons are defined by a collection of points on the surface
also known as vertices and a recipe for their connections to create
the polygons, which is defined by a list of points. This list is
called faces. For example the
following defines a cube:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vertices</span>
 <span class="mi">1</span>   <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
 <span class="mi">2</span>   <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">3</span>  <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">4</span>  <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
 <span class="mi">5</span>   <span class="mf">1.000000</span>  <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">0.999999</span>
 <span class="mi">6</span>   <span class="mf">0.999999</span>  <span class="mf">1.000000</span>  <span class="mf">1.000001</span>
 <span class="mi">7</span>  <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span>  <span class="mf">1.000000</span>
 <span class="mi">8</span>  <span class="o">-</span><span class="mf">1.000000</span>  <span class="mf">1.000000</span> <span class="o">-</span><span class="mf">1.000000</span>
<span class="n">faces</span>
<span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span>
<span class="mi">8</span> <span class="mi">7</span> <span class="mi">6</span>
<span class="mi">5</span> <span class="mi">6</span> <span class="mi">2</span>
<span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span>
<span class="mi">3</span> <span class="mi">7</span> <span class="mi">8</span>
<span class="mi">1</span> <span class="mi">4</span> <span class="mi">8</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="mi">4</span>
<span class="mi">5</span> <span class="mi">8</span> <span class="mi">6</span>
<span class="mi">1</span> <span class="mi">5</span> <span class="mi">2</span>
<span class="mi">2</span> <span class="mi">6</span> <span class="mi">3</span>
<span class="mi">4</span> <span class="mi">3</span> <span class="mi">8</span>
<span class="mi">5</span> <span class="mi">1</span> <span class="mi">8</span>
</pre></div>
</div>
<p>for example the first face defined by a triangle instructs to connect
points 2,3 and 4. One can also assign colors to each face. pyprocar
uses this feature to assign the projection colors to the
surfaces. Another important aspect to this in definning the surface is
the normals to the faces, however a tutorial about fermi surface is
not a good place to get into details about surfaces.</p>
<p>To generate the fermi surface PyProcar uses different levels of
generality to surfaces. The level is the definition of a surface which
is handled by the class surface in <a class="reference external" href="pyprocar.core.html#module-pyprocar.core.surface">pyprocar.core.Surface</a>
which only requires faces and vertices. The next level is an
isosurface which is handeled by <a class="reference external" href="pyprocar.core.html#module-pyprocar.core.isosurface">pyprocar.core.Isosurface</a>, this class
represents the equation <span class="math notranslate nohighlight">\(f(x,y,z)=V\)</span>, where <span class="math notranslate nohighlight">\(V\)</span> is the
isovalue and <span class="math notranslate nohighlight">\(f(x,y,z)\)</span> is the function. In a fermi surface
<span class="math notranslate nohighlight">\(f(x,y,z)\)</span> will be the energy of each band at different points
of the k space and <span class="math notranslate nohighlight">\(V\)</span> will be the fermi energy. To use this
class one needs to provide the function in a 3 dimentional matrix and
the isovalue. The next level is the fermi surface which is defined by
an isosurfcace which is handled by the class
<a class="reference external" href="pyprocar.fermisurface3d.html#module-pyprocar.fermisurface3d.fermisurface3D">pyprocar.fermisurface3d.FermiSurfcae3D</a>.
This function requires a list of kpoints and the eigen-values of the
energy for a specific band. However one does not have to be concerned
about the specifics of different layers and just use the
pyprocar.fermi3D function to generate the fermi surface. The
different arguments required by this function are explained in details
at <a class="reference external" href="fermi3D.html#pyprocar.scriptFermi3D.fermi3D">the bottom of this page</a>.
This work would not have been possible without the amazing packages, <a class="reference external" href="https://docs.pyvista.org/">pyvista</a> and <a class="reference external" href="https://github.com/mikedh/trimesh">trimesh</a>.
If you use pyprocar’s 3D fermi surface in your publication please cite
trimesh and pyvista as well with the following citation information.</p>
<p><a class="reference external" href="https://github.com/mikedh/trimesh#how-can-i-cite-this-library">trimesh</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@software</span><span class="p">{</span><span class="n">trimesh</span><span class="p">,</span>
      <span class="n">author</span> <span class="o">=</span> <span class="p">{{</span><span class="n">Dawson</span><span class="o">-</span><span class="n">Haggerty</span> <span class="n">et</span> <span class="n">al</span><span class="o">.</span><span class="p">}},</span>
      <span class="n">title</span> <span class="o">=</span> <span class="p">{</span><span class="n">trimesh</span><span class="p">},</span>
      <span class="n">url</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">trimsh</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="p">},</span>
      <span class="n">version</span> <span class="o">=</span> <span class="p">{</span><span class="mf">3.2.0</span><span class="p">},</span>
      <span class="n">date</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2019</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">8</span><span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference external" href="https://joss.theoj.org/papers/10.21105/joss.01450">PyVista</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">sullivan2019pyvista</span><span class="p">,</span>
<span class="n">doi</span> <span class="o">=</span> <span class="p">{</span><span class="mf">10.21105</span><span class="o">/</span><span class="n">joss</span><span class="mf">.01450</span><span class="p">},</span>
<span class="n">url</span> <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">doi</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="mf">10.21105</span><span class="o">/</span><span class="n">joss</span><span class="mf">.01450</span><span class="p">},</span>
<span class="n">year</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2019</span><span class="p">},</span>
<span class="n">month</span> <span class="o">=</span> <span class="p">{</span><span class="n">may</span><span class="p">},</span>
<span class="n">publisher</span> <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">Open</span> <span class="n">Journal</span><span class="p">},</span>
<span class="n">volume</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">},</span>
<span class="n">number</span> <span class="o">=</span> <span class="p">{</span><span class="mi">37</span><span class="p">},</span>
<span class="n">pages</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1450</span><span class="p">},</span>
<span class="n">author</span> <span class="o">=</span> <span class="p">{</span><span class="n">C</span><span class="o">.</span> <span class="n">Bane</span> <span class="n">Sullivan</span> <span class="ow">and</span> <span class="n">Alexander</span> <span class="n">Kaszynski</span><span class="p">},</span>
<span class="n">title</span> <span class="o">=</span> <span class="p">{{</span><span class="n">PyVista</span><span class="p">}:</span> <span class="mi">3</span><span class="n">D</span> <span class="n">plotting</span> <span class="ow">and</span> <span class="n">mesh</span> <span class="n">analysis</span> <span class="n">through</span> <span class="n">a</span> <span class="n">streamlined</span> <span class="n">interface</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Visualization</span> <span class="n">Toolkit</span> <span class="p">({</span><span class="n">VTK</span><span class="p">})},</span>
<span class="n">journal</span> <span class="o">=</span> <span class="p">{</span><span class="n">Journal</span> <span class="n">of</span> <span class="n">Open</span> <span class="n">Source</span> <span class="n">Software</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>Examples<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h2>
<p>As a standard example for plotting fermi surfaces we use MgB<sub>2</sub>and SrFeO<sub>3</sub>.</p>
<section id="plain-fermi-surface">
<h3>1. Plain Fermi surface<a class="headerlink" href="#plain-fermi-surface" title="Permalink to this heading">#</a></h3>
<p>This mode is activated by selecting the argument <code class="docutils literal notranslate"><span class="pre">mode</span></code> equal to
<code class="docutils literal notranslate"><span class="pre">'plain'</span></code>. This mode plots each band in fermi a different color,
however there won’t be any color projection.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">surfaces</span> <span class="o">=</span> <span class="n">pyprocar</span><span class="o">.</span><span class="n">fermi3D</span><span class="p">(</span><span class="n">procar</span><span class="o">=</span><span class="s1">&#39;colinear/PROCAR-MgB2-nonPol&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">outcar</span><span class="o">=</span><span class="s1">&#39;colinear/OUTCAR-MgB2-nonPol&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">interpolation_factor</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">projection_accuracy</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">camera_pos</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">save2d</span><span class="o">=</span><span class="s1">&#39;MgB2-nonPol.png&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">save3d</span><span class="o">=</span><span class="s1">&#39;MgB2-nonPol.glb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The main arguments in this function are <code class="docutils literal notranslate"><span class="pre">procar</span></code>, <code class="docutils literal notranslate"><span class="pre">outcar</span></code>, <code class="docutils literal notranslate"><span class="pre">bands</span></code>, <code class="docutils literal notranslate"><span class="pre">scale</span></code>, <code class="docutils literal notranslate"><span class="pre">mode</span></code> and <code class="docutils literal notranslate"><span class="pre">st</span></code>, where <code class="docutils literal notranslate"><span class="pre">procar</span></code> and <code class="docutils literal notranslate"><span class="pre">outcar</span></code> are the names of the input PROCAR and OUTCAR files respectively, <code class="docutils literal notranslate"><span class="pre">bands</span></code> is an array of the bands that are desired to be plotted. Note if <code class="docutils literal notranslate"><span class="pre">bands</span> <span class="pre">=</span> <span class="pre">-1</span></code>, the function will try to plot all the bands provided in the PROCAR file. The kmesh will be interpolated by a factor of scale in each direction. The <code class="docutils literal notranslate"><span class="pre">st</span></code> tag controls the spin-texture plotting, and <code class="docutils literal notranslate"><span class="pre">mode</span></code> determines the type of projection of colors. There are additional keyword arguments that can be accessed in the help section of this function, such as <code class="docutils literal notranslate"><span class="pre">face_color,</span> <span class="pre">cmap,</span> <span class="pre">atoms,</span> <span class="pre">orbitals,</span> <span class="pre">energy,</span> <span class="pre">transparent,</span> <span class="pre">nprocess</span></code> etc.</p>
</section>
<section id="surface-coloring-based-on-properties-from-procar">
<h3>2. Surface coloring based on properties from PROCAR<a class="headerlink" href="#surface-coloring-based-on-properties-from-procar" title="Permalink to this heading">#</a></h3>
<p>Similar to the <code class="docutils literal notranslate"><span class="pre">bandsplot()</span></code> section one can choose to project the contribution of different properties provided in the PROCAR file, such as atom, orbital and spin contributions. The projection can be represented by different color mapping schemes chosen by the user. The projection is not restricted to only one property at a time, so it can be chosen from all the provided properties. For example, one might want to see the contribution of the orbitals <span class="math notranslate nohighlight">\(p_x\)</span>, <span class="math notranslate nohighlight">\(p_y\)</span>, <span class="math notranslate nohighlight">\(p_z\)</span> from specific atoms, this function will parse the desired contributions and projects the sum of contributions on each face. To use this functionality one has to change the mode from <code class="docutils literal notranslate"><span class="pre">plain</span></code> to <code class="docutils literal notranslate"><span class="pre">parametric</span></code> and choose the atoms, orbitals, spin that are desired to be projected.</p>
<p>For noncolinear calculations, this function is able to plot arrows in the direction of the spinors provided in the PROCAR file. To turn this functionality on the one can set <code class="docutils literal notranslate"><span class="pre">st=True</span></code> to turn the spin-texture ON. The user can choose between coloring all the arrows originated from one band with a specific color, or project the contribution of that arrow in a specific Cartesian direction. To better represent the spin-texture we use the key argument <code class="docutils literal notranslate"><span class="pre">transparent=True</span></code> which changes the opacity of the Fermi-surface to zero.</p>
</section>
<section id="surface-coloring-based-on-properties-obtained-from-an-external-file">
<h3>3. Surface coloring based on properties obtained from an external file<a class="headerlink" href="#surface-coloring-based-on-properties-obtained-from-an-external-file" title="Permalink to this heading">#</a></h3>
<p>Similar to the previous section, this function is able to read an external file, containing information about a scalar or a vector field in BZ and project the field on the Fermi surface. This file does not need to have the same mesh grid as the PROCAR file as long as the mesh sampling is fine enough. This function performs an interpolation on the provided data and evaluates functions at the center of each face on the Fermi surface. The external file should have the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">band</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">band</span> <span class="n">number</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">kx1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">ky1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">kz1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">color1</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">kx2</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">ky2</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">kz2</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">color2</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">kx3</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">ky3</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">kz3</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">color3</span><span class="o">&gt;</span>
   <span class="o">...</span>
<span class="n">band</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">band</span> <span class="n">number</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The function matches information about the first band present in the file to the first band requested to be plotted, second band present in the file to the second band requested to be plotted, and so on.</p>
<span class="target" id="module-pyprocar.scriptFermi3D"></span></section>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#d-surfaces">
   3D surfaces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Examples
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plain-fermi-surface">
     1. Plain Fermi surface
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#surface-coloring-based-on-properties-from-procar">
     2. Surface coloring based on properties from PROCAR
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#surface-coloring-based-on-properties-obtained-from-an-external-file">
     3. Surface coloring based on properties obtained from an external file
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/fermi3D.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2020, Romero Group.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>